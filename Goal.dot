// https://edotor.net/

digraph {
    // Miscellaneous
    m_pic [label = "Position Independent Code"]

    // File system
    fs_create [label = "Create files"]

    fs_read [label = "Read from files"]

    fs_write [label = "Write to files"]

    fs_navigate [label = "Navigate paths"]

    // Programs
    p_unprivileged [label = "Unprivileged programs"]

    p_segments [label = "Programs are loaded from segments"]

    p_elf [label = "Programs are stored as ELF"]
    p_elf -> fs_read
    p_elf -> p_segments
    p_elf -> m_pic

    p_entry [label = "Pass parameters to programs"]

    // System calls
    s_write [label = "write()"]
    s_write -> fs_write

    s_chdir [label = "chdir()"]
    s_chdir -> fs_navigate

    s_open [label = "open()"]
    s_open -> fs_read

    s_read [label = "read()"]
    s_read -> fs_read

    // Functions
    f_opendir [label = "opendir()"]
    f_opendir -> s_open

    f_readdir [label = "readdir()"]
    f_readdir -> s_read

    // Utilities
    u_echo [label = "echo"]
    u_echo -> s_write

    u_cd [label = "cd"]
    u_cd -> s_chdir

    u_cat [label = "cat"]
    u_cat -> s_open
    u_cat -> s_read

    u_ls [label = "ls"]
    u_ls -> f_opendir
    u_ls -> f_readdir
}
